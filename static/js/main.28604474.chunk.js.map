{"version":3,"sources":["Form.js","Nyt.js","Canvas.js","Wiki.js","reportWebVitals.js","index.js"],"names":["Form","require","props","onSubmit","Search","type","className","name","placeholder","Canvas","palette","color","c","parseInt","r","g","b","a","calculateQuantError","o","n","oc","nc","canvasRef","useRef","draw","ctx","cvs","img","Image","src","w","h","width","crossOrigin","drawImage","imageData","getImageData","data","len","length","i","oldColor","newColor","qe","e","putImageData","useEffect","animationFrameId","canvas","current","context","getContext","render","window","requestAnimationFrame","cancelAnimationFrame","height","ref","fetch","Wiki","useState","image","setImage","title","setTitle","setWidth","setHeight","preventDefault","searchTerm","target","elements","value","url_search","search_response","json","search_json","term","backup_term","pageURL","substr","pageURL2","page_url_response","backup_response","final","backupfinal","console","log","Object","entries","query","pages","original","source","Math","floor","href","id","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.28604474.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Form = props => (\n\t<form onSubmit={props.Search}>\n\t\t<input type=\"text\" className=\"Textbox\" name=\"searchTerm\" placeholder=\"show me a...\"/>\n\t\t<button className=\"Search-button\">Dither!</button>\n\t</form>\n);\n\nexport default Form;","import React from 'react';\nconst cheerio = require('cheerio');\nconst axios = require('axios');\n\nconst Nyt = () => {\n\n    const Ziti = () => {\n\n        axios.get('https://cooking.nytimes.com/recipes/1018954-baked-ziti')\n            .then((res) => {\n                const $ = cheerio.load(res.data);\n                return $('.recipe-steps').text(); \n            }).then((res) => {console.log(res)})\n\n\n\n\n\n    }\n\n    return (\n        <button onClick={Ziti}>ziti!</button>\n    )\n\n\n\n}\n\nexport default Nyt;","import React, { useRef, useEffect } from 'react'\n\nconst Canvas = props => {\n\n\n    function palette(color) {\n        var c = parseInt(((color.r + color.g + color.b) / 3) > 128 ? 255 : 0);\n        return { r: c, g: c, b: c, a: 255 };\n      }\n      \n      // get difference\n      function calculateQuantError(o, n) {\n        var oc = parseInt((o.r + o.g + o.b) / 3),\n            nc = parseInt((n.r + n.g + n.b) / 3);\n        return { r: oc - nc, g: oc - nc, b: oc - nc, a: 255 };\n      }\n      \n\n\n    const canvasRef = useRef(null)\n  \n    const draw = (ctx, cvs) => {\n    \n    const img = new Image();\n    img.src = props.src;\n    \n    //console.log(cvs);\n    \n        const w = 350;\n        const h = (props.h); \n\n        const test = ctx.width;\n        //console.log(`size: ${test} `);\n        img.crossOrigin = 'anonymous';\n        ctx.drawImage(img, 0, 0, w, h);\n        const imageData = ctx.getImageData(0, 0, w, h);\n        const data = imageData.data;\n        const len = data.length;\n        \n        \n        // correct canvas size\n        \n        \n        // draw the image so we can extract the data\n        \n        \n        // extract the image data and pixel array\n        \n            \n        \n        // loop through all pixels and apply dither\n        for(var i = 0; i < len; i+=4) {\n        \n        // get RGBA for the current pixel\n        var oldColor = {\n            r: data[i+0],\n            g: data[i+1],\n            b: data[i+2],\n            a: data[i+3]\n        };\n        \n        // convert RGBA to palette color\n        var newColor = palette(oldColor);\n        \n        // apply the new color\n        data[i+0] = newColor.r;\n        data[i+1] = newColor.g;\n        data[i+2] = newColor.b;\n        data[i+3] = newColor.a;\n        \n        // calculate color difference\n        var qe = calculateQuantError(oldColor, newColor);\n    \n        // apply differences to surrounding pixels.\n        // the try..catch statements just ignores\n        // edge cases. it's a codepen, not a lib :)\n        try {\n            data[i+0+4] += 7/16 * qe.r;\n            data[i+1+4] += 7/16 * qe.g;\n            data[i+2+4] += 7/16 * qe.b;\n            data[i+3+4] += 7/16 * qe.a;\n        } catch(e) {}\n        try {\n            data[i+0-4+w*4] += 3/16 * qe.r;\n            data[i+1-4+w*4] += 3/16 * qe.g;\n            data[i+2-4+w*4] += 3/16 * qe.b;\n            data[i+3-4+w*4] += 3/16 * qe.a;\n        } catch(e) {}\n        try {\n            data[i+0+w*4] += 5/16 * qe.r;\n            data[i+1+w*4] += 5/16 * qe.g;\n            data[i+2+w*4] += 5/16 * qe.b;\n            data[i+3+w*4] += 5/16 * qe.a;\n        } catch(e) {}\n        try {\n            data[i+0+4+w*4] += 1/16 * qe.r;\n            data[i+1+4+w*4] += 1/16 * qe.g;\n            data[i+2+4+w*4] += 1/16 * qe.b;\n            data[i+3+4+w*4] += 1/16 * qe.a;\n        } catch(e) {}\n        }\n        // put the data back\n        ctx.putImageData(imageData, 0, 0);\n        \n        \n    \n    \n    \n  }\n  \n  useEffect(() => {\n    \n    const canvas = canvasRef.current\n\n    \n    \n    const context = canvas.getContext('2d')\n    \n    \n    let animationFrameId\n    \n    //Our draw came here\n    const render = () => {\n      \n      draw(context, canvas)\n      animationFrameId = window.requestAnimationFrame(render)\n    }\n\n    render()\n    \n    return () => {\n      window.cancelAnimationFrame(animationFrameId)\n    }\n  }, [draw])\n  \n\n  return (\n\n    \n    <canvas width={props.w} height={props.h} ref={canvasRef} {...props}/>\n\n  ) \n}\n\nexport default Canvas","import React, { useState , useRef, useEffect} from 'react';\nimport Nyt from './Nyt';\nimport Form from './Form';\nimport Canvas from './Canvas';\nconst fetch = require(\"node-fetch\");\n\n\nconst Wiki = () => {\n\n  const [image, setImage] = useState(\"https://upload.wikimedia.org/wikipedia/commons/1/10/Tursiops_truncatus_01.jpg\");\n  const [title, setTitle] = useState(\"Dolphin\");\n  const [width, setWidth] = useState(350);\n  const [height, setHeight] = useState(250);\n\n\n\n  \n  \n\n\n\n\n  const Search = async (e) => {\n\n    e.preventDefault();\n    const searchTerm = e.target.elements.searchTerm.value;\n    \n    if (!searchTerm) {\n      setTitle(\"no image found :(\");\n      return;\n    }\n\n    const url_search = `https://en.wikipedia.org/w/api.php?origin=*&action=opensearch&search=${searchTerm}&format=json`;\n\n    const search_response = await fetch(url_search);\n    \n    const search_json = await search_response.json();\n    if (search_json[3].length === 0){\n      setTitle(\"no image found :(\");\n      return;\n\n    }\n    \n    \n    const term = search_json[3][0];\n    const backup_term = search_json[3][1];\n    const pageURL = `https://en.wikipedia.org/w/api.php?origin=*&action=query&prop=pageimages&format=json&piprop=original&titles=${term.substr(30,)}`;\n    const pageURL2 = `https://en.wikipedia.org/w/api.php?origin=*&action=query&prop=pageimages&format=json&piprop=original&titles=${backup_term.substr(30,)}`;\n    const page_url_response = await fetch(pageURL)\n    const backup_response = await fetch(pageURL2)\n    const final = await page_url_response.json();\n    const backupfinal = await backup_response.json();\n    console.log(final)\n    console.log(backupfinal)\n    \n\n\n      \n\n    if (Object.entries(final.query.pages)[0][1].original) {\n      console.log(Object.entries(final.query.pages)[0][1].original.source);\n      console.log(Object.entries(final.query.pages)[0][1].original);\n      console.log(Object.entries(final.query.pages)[0][1].original.width);\n      console.log(Object.entries(final.query.pages)[0][1].original.height);\n      setImage(Object.entries(final.query.pages)[0][1].original.source);\n      setTitle(search_json[1][0]);\n\n      const w = Object.entries(final.query.pages)[0][1].original.width;\n      const h = Object.entries(final.query.pages)[0][1].original.height;\n    \n\n      setWidth(350);\n      setHeight(Math.floor((350/w)*h));\n    }\n\n    else if (Object.entries(backupfinal.query.pages)[0][1].original) {\n      \n      setImage(Object.entries(backupfinal.query.pages)[0][1].original.source);\n      setTitle(search_json[1][0]);\n\n      console.log(Object.entries(backupfinal.query.pages)[0][1].original.source);\n      console.log(Object.entries(backupfinal.query.pages)[0][1].original);\n      console.log(Object.entries(backupfinal.query.pages)[0][1].original.width);\n      console.log(Object.entries(backupfinal.query.pages)[0][1].original.height);\n\n      const w = Object.entries(backupfinal.query.pages)[0][1].original.width;\n      const h = Object.entries(backupfinal.query.pages)[0][1].original.height;\n\n      setWidth(350);\n      setHeight(Math.floor((350/w)*h));\n\n    }\n\n\n    else {\n      setTitle(\"no image found :(\");\n      setImage(\"\");\n      //console.log(Object.entries(final.query));\n    }\n\n  }  \n\n  \n  return (\n    <div>\n      <div className=\"Box\">\n        <h3>Wiki Dither</h3>\n        <p>search something on wikipedia (the free encyclopedia) and see \n          its page image dithered using the <a href = \"https://en.wikipedia.org/wiki/Floyd%E2%80%93Steinberg_dithering\">Floyd-Steinberg Dithering Algorithm</a>.\n         <br/>more dithering algorithms to come :) </p>\n        <Form Search={Search}/>\n        &nbsp;\n        \n        <Canvas id=\"wiki_dither\" src={image} w={width} h={height} />\n        <p className=\"caption\">{title} dithered</p>\n\n        \n        </div>\n\n\n\n\n    </div>\n  )\n\n}\n\nexport default Wiki;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\n\nimport Wiki from './Wiki';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Wiki />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}